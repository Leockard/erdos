<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="leotrs" />
    <meta name="copyright" content="leotrs" />

    <meta name="description" content="One of the simplest ways to generate graphs randomly
" />
    <meta property="og:type" content="article" />
    <meta name="twitter:card" content="summary">


<meta name="keywords" content=", Random Graphs, " />

<meta property="og:title" content="Erdos-Renyi Random Graph "/>
<meta property="og:url" content="http://erdosnet.work/challenges/erdos-renyi-random-graph.html" />
<meta property="og:description" content="One of the simplest ways to generate graphs randomly" />
<meta property="og:site_name" content="erdos" />
<meta property="og:article:author" content="leotrs" />
<meta property="og:article:published_time" content="2016-09-17T00:00:00-04:00" />
<meta name="twitter:title" content="Erdos-Renyi Random Graph ">
<meta name="twitter:description" content="One of the simplest ways to generate graphs randomly">

    <title>Erdos-Renyi Random Graph  · erdos
</title>
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="http://erdosnet.work/theme/css/pygments.css" media="screen">
    <link rel="stylesheet" type="text/css" href="http://erdosnet.work/theme/tipuesearch/tipuesearch.css" media="screen">
    <link rel="stylesheet" type="text/css" href="http://erdosnet.work/theme/css/elegant.css" media="screen">
    <link rel="stylesheet" type="text/css" href="http://erdosnet.work/theme/css/custom.css" media="screen">
    <link rel="shortcut icon" href="http://erdosnet.work/theme/images/favicon.ico" type="image/x-icon" type="image/png" />
  </head>
  <body>
    <div id="content-sans-footer">
      <div class="navbar navbar-static-top">
        <div class="navbar-inner">
          <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
            <a class="brand" href="http://erdosnet.work/"><span class=site-name>erdos</span></a>
            <div class="nav-collapse collapse">
              <ul class="nav pull-right top-menu">
                <li ><a href="http://erdosnet.work/index.html">Home</a></li>
                <li ><a href="http://erdosnet.work/network-science.html">Network Science</a></li>
                <li ><a href="http://erdosnet.work/how-to.html">How To</a></li>
                <li ><a href="http://erdosnet.work/categories.html">Problem Sets</a></li>
		<li ><a href="http://erdosnet.work/glossary.html">Glossary</a></li>
                <li ><a href="http://erdosnet.work/resources.html">Resources</a></li>
                <li ><a href="http://erdosnet.work/about.html">About</a></li>
                <!-- <li><form class="navbar-search" action="http://erdosnet.work/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li> -->
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="container-fluid">
        <div class="row-fluid">
          <div class="span1"></div>
          <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="http://erdosnet.work/challenges/erdos-renyi-random-graph.html"> Erdos-Renyi Random Graph  </a></h1>
    </header>
</div>

  <div class="row-fluid">
    <div class="span2 table-of-content">
<div class="accordion" id="accordion2">
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle list-of-categories" data-toggle="collapse" data-parent="#accordion2" href="#graphs-ref">
        Graphs<span>6</span>
      </a>
    </div>
    <div id="graphs-ref" class="accordion-body collapse">
      <div class="accordion-inner">
        <ul class="list-articles-category">
          <li><a href="http://erdosnet.work/challenges/nodes-and-edges.html">Nodes and Edges</a></li>
          <li><a href="http://erdosnet.work/challenges/directed-graphs.html">Directed Graphs</a></li>
          <li><a href="http://erdosnet.work/challenges/weighted-graphs.html">Weighted Graphs</a></li>
          <li><a href="http://erdosnet.work/challenges/simple-graphs.html">Simple Graphs</a></li>
          <li><a href="http://erdosnet.work/challenges/paths-and-components.html">Paths and Components</a></li>
          <li><a href="http://erdosnet.work/challenges/graph-density.html">Graph Density</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle list-of-categories" data-toggle="collapse" data-parent="#accordion2" href="#representations-ref">
        Representations<span>3</span>
      </a>
    </div>
    <div id="representations-ref" class="accordion-body collapse">
      <div class="accordion-inner">
        <ul class="list-articles-category">
          <li><a href="http://erdosnet.work/challenges/adjacency-lists.html">Adjacency Lists</a></li>
          <li><a href="http://erdosnet.work/challenges/adjacency-matrix.html">Adjacency Matrix</a></li>
          <li><a href="http://erdosnet.work/challenges/incidence-matrix.html">Incidence Matrix</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle list-of-categories" data-toggle="collapse" data-parent="#accordion2" href="#measures-ref">
        Measures<span>4</span>
      </a>
    </div>
    <div id="measures-ref" class="accordion-body collapse">
      <div class="accordion-inner">
        <ul class="list-articles-category">
          <li><a href="http://erdosnet.work/challenges/graph-measures.html">Graph Measures</a></li>
          <li><a href="http://erdosnet.work/challenges/triangles-and-transitivity.html">Triangles and Transitivity</a></li>
          <li><a href="http://erdosnet.work/challenges/clustering-coeficient.html">Clustering Coeficient</a></li>
          <li><a href="http://erdosnet.work/challenges/path-lengths.html">Path Lengths</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle list-of-categories" data-toggle="collapse" data-parent="#accordion2" href="#random-graphs-ref">
        Random Graphs<span>2</span>
      </a>
    </div>
    <div id="random-graphs-ref" class="accordion-body collapse in">
      <div class="accordion-inner">
        <ul class="list-articles-category">
          <li class="active" ><a href="http://erdosnet.work/challenges/erdos-renyi-random-graph.html">Erdos-Renyi Random Graph</a></li>
          <li><a href="http://erdosnet.work/challenges/barabasi-albert-random-graph.html">Barabási-Albert random graph</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>    </div>
    <div class="span8 article-content">
      <ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#erdos-context">Context</a></li>
        <li><a data-toggle="tab" href="#erdos-challenge">Challenge</a></li>
        <li><a data-toggle="tab" data-target="#erdos-questions, #erdos-footnote" href="#erdos-solutions">Questions</a></li>
      </ul>

      <div class="tab-content">
        <div class="tab-pane fade in active" id="erdos-context">
<h1>Context</h1>
<p>To perform any kind of research, it is always a good idea to keep some
simple models at hand.  These simple models can deviate from real-life
data, but their utility comes from the fact that they are tractable and
easy to understand.  They are also useful as statistical null-models,
against which to test our hypotheses.</p>
<p>In Network Science, when we uncover some property of a network and we want
to test whether or not this property truly comes from the topology of the
graph, and did not appear purely at random, we compare our network to a
random sample of networks.  If the networks generated at random also have
the property, then it's likely that our network also has it by chance, and
not as the product of its structure.  This is why we need to generate
random graphs.</p><a name="random-graph"></a>
<dl>
<dt>Random Graph</dt>
<dd>A <strong>random graph</strong> is a graph that was generated by some stochastic
process.  In Mathematics, the term <strong>random graph</strong> is also used to refer
to the ensemble of all such graphs that <em>could possibly</em> be generated by a
random process.  That is, the process itself embodies the <em>random graph</em>,
instead of just one realization of such process.</dd>
</dl>
<p>One of the simplest ways to generate a random graph is to start with a
fixed amount of nodes, <span class="math">\(n\)</span>.  Then, we generate the edges at random, one by
one, for example, by tossing a coin.  Heads, we put down the link, tails,
we don't.  In this way, we perform a random procedure for each edge, and
the end result is a graph generated at random.</p>
<p>Now, to have more control over the kind of graph that is generated, instead
of tossing a coin, we can choose any other random process.  In this case,
we will focus on the process of drawing a number from <span class="math">\(0\)</span> to <span class="math">\(1\)</span>.  If the
number is less than a predefined value of <span class="math">\(p\)</span>, we add the edge to the
network.  The graphs generated by such a process are the most common random
graphs in Network Science, and are called the Erdos-Renyi random graph,
after the mathematicians who studied them.</p><a name="erdos-renyi-random-graph"></a>
<dl>
<dt>Erdos-Renyi Random Graph</dt>
<dd>The <strong>Erdos-Renyi Random Graph</strong> refers to the process of fixing the
number of nodes <span class="math">\(n\)</span> and the individual edge probability, <span class="math">\(p\)</span>, and drawing
one edge at a time, with probability <span class="math">\(p\)</span>.  Because it depends on two
parameters, it is sometimes denoted <span class="math">\(G(n, p)\)</span>.  This random graph model is
so common in Network Science that it is often referred to as just <strong>random
graph</strong>.</dd>
</dl>
</div>
<!-- erdos-context -->
<div class="tab-pane fade" id="erdos-challenge">
<h1>Challenge</h1>
<p>This time, we will generate our own Erdos-Renyi random graphs.</p>
<p>The input is a file with one line, containing two numbers, <span class="math">\(n\)</span> and <span class="math">\(p\)</span>, the
number of nodes and the individual edge probabilities.  Write a function
that generates a random graph.</p>
<p>The output will be one realization of the Erdos-Renyi process.  You can
choose to show it as a picture using the visualization framework of your
choice (we recommend NetworkX for python), or just printing the adjacency
matrix.</p>
<h3>Sample Input</h3>
<div class="highlight"><pre><span></span>100 0.15
</pre></div>
<p>The output is your choice of visualization for a network.</p>
<hr/>
<h1>Solution</h1>
<p>The solution to this challenge is hosted on
<a href="https://github.com/leotrs/erdos/blob/master/solutions/random/erdos.py">Github</a>.</p>
</div>
<!-- erdos-challenge -->
<div class="tab-pane fade" id="erdos-questions">
<h1>Expansion Questions</h1>
<p>The following questions require knowledge of elementary probability.
Formulas should be expressed in terms of parameteres <span class="math">\(n\)</span> and <span class="math">\(p\)</span>, where
appropriate.</p>
<p>In a Erdos-Renyi graph,</p>
<ol>
<li>
<p>what is the expected number of edges?</p>
</li>
<li>
<p>what is the expected degree of a node?</p>
</li>
<li>
<p>what is the expected clustering coefficient?</p>
</li>
</ol>
<hr/>
<h1>Answers</h1>
<ol>
<li>
<p>Since each edge follows a Bernoulli distribution with paramter <span class="math">\(p\)</span>, then
   the total number of edges, <span class="math">\(m\)</span>, follows a Binomial distribution <span class="math">\(m
   \sim Bin(\frac{n (n-1)}{2}, p)\)</span>.  Thus, the expected value of <span class="math">\(m\)</span> is
   <span class="math">\(\frac{n (n-1)}{2} p\)</span>.</p>
</li>
<li>
<p>Similarly, the degree of a node will be distributed as <span class="math">\(Bin(n - 1, p)\)</span>,
   with expected value <span class="math">\((n - 1) p\)</span>.</p>
</li>
<li>
<p>The clustering coefficient of node <code>i</code> is equal to the number of edges
   between its neighbors, which we call <span class="math">\(m_i\)</span>, divided by the total number
   of possible edges between them.  Thus, if <span class="math">\(k_i\)</span> is <code>i</code>'s degree, we
   have</p>
<p>
<div class="math">$$
k_i \sim Bin(n-1, p) \\
m_i \mid _{k_i} \sim Bin(\frac{k_i (k_i - 1)}{2}, p) \\
c_i = \frac{2 m_i}{k_i (k_i - 1)}
$$</div>
</p>
<p>Now, we can compute the conditional expectation of the clustering
coefficient given the degree,</p>
<p>
<div class="math">$$\begin{align*}
\mathbf{E}[c_i \mid k_i] &amp;= \sum_d \mathbf{E}[\frac{2 m_i}{d (d - 1)} \mid k_i = d] \mathbf{P}(k_i = d) \\
                    &amp;= \sum_d \frac{2}{d (d - 1)} \mathbf{E}[m_i \mid k_i = d] \mathbf{P}(k_i = d) \\
                    &amp;= p \sum_d \mathbf{P}(k_i = d) \\
                    &amp;= p \\
\end{align*}
$$</div>
</p>
<p>Where we have used the fact that the expected value of a <span class="math">\(Bin(\frac{d
(d - 1)}{2}, p)\)</span> random variable is <span class="math">\(p \frac{d (d - 1)}{2}\)</span>.</p>
<p>We finish by observing that</p>
<p>
<div class="math">$$ \mathbf{E}[c_i] = \mathbf{E}[\mathbf{E}[c_i \mid k_i]] = p. $$</div>
</p>
</li>
</ol>
</div>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
      </div>

      <section>
<div class="accordion" id="accordion2">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle disqus-comment-count" data-toggle="collapse" data-parent="#accordion2"
                    data-disqus-identifier="87fade33-one-of-the-simplest-ways-to-generate-graphs-randomly"
                href="http://erdosnet.work/challenges/erdos-renyi-random-graph.html#disqus_thread",
                id="disqus-accordion-toggle">
                Comments
            </a>
        </div>
        <div id="disqus_thread" class="accordion-body collapse">
            <div class="accordion-inner">
                <div class="comments">
                    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'erdos';
        var disqus_identifier = '87fade33-one-of-the-simplest-ways-to-generate-graphs-randomly';
    var disqus_url = 'http://erdosnet.work/challenges/erdos-renyi-random-graph.html';

    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

                </div>
            </div>
        </div>
    </div>
</div>
</section>

      <hr/>
    </div>
    <section>
      <div class="span2" style="float:right;font-size:0.9em;">
<h4>Contact</h4>
    <a href="https://twitter.com/ErdosNS" title="My twitter Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-twitter sidebar-social-links"></i></a>
    <a href="https://github.com/leotrs/erdos" title="My github Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-github sidebar-social-links"></i></a>
    <a href="mailto:leo@erdosnet.work" title="My email Address" class="sidebar-social-links" target="_blank">
    <i class="fa fa-envelope sidebar-social-links"></i></a>
      </div>
    </section>
  </div>
</article>
          </div>
          <div class="span1"></div>
        </div>
      </div>
      <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-subtitle"><span class="site-name">erdos</span> - Problem-based NetSci</li>
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>        <script src="http://code.jquery.com/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
    <script>
      function validateForm(query)
      {
      return (query.length > 0);
      }
    </script>

            <script type="text/javascript">
var disqus_shortname = 'erdos';
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
<script  language="javascript" type="text/javascript">
function uncollapse() {
    if (window.location.hash.match(/^#comment-\d+$/)) {
        $('#disqus_thread').collapse('show');
    }
}
</script>
<script type="text/javascript" language="JavaScript">
uncollapse();
window.onhashchange=function(){
    if (window.location.hash.match(/^#comment-\d+$/))
        window.location.reload(true);
}
</script>
<script>
$('#disqus_thread').on('shown', function () {
    var link = document.getElementById('disqus-accordion-toggle');
    var old_innerHTML = link.innerHTML;
    $(link).fadeOut(500, function() {
        $(this).text('Click here to hide comments').fadeIn(500);
    });
    $('#disqus_thread').on('hidden', function () {
        $(link).fadeOut(500, function() {
            $(this).text(old_innerHTML).fadeIn(500);
        });
    })
})
</script>


  </body>
  <!-- Theme: Elegant built for Pelican
       License : http://oncrashreboot.com/pelican-elegant -->
</html>