<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="leotorr" />
    <meta name="copyright" content="leotorr" />

    <meta property="og:type" content="article" />
    <meta name="twitter:card" content="summary">

<meta name="keywords" content=", Representations, " />

<meta property="og:title" content="Incidence Matrix "/>
<meta property="og:url" content="http://erdosnet.work/challenges/incidence-matrix.html" />
<meta property="og:description" content="Graphs can be represented by a matrix" />
<meta property="og:site_name" content="erdos" />
<meta property="og:article:author" content="leotorr" />
<meta property="og:article:published_time" content="2016-07-17T00:00:00-04:00" />
<meta name="twitter:title" content="Incidence Matrix ">
<meta name="twitter:description" content="Graphs can be represented by a matrix">

    <title>Incidence Matrix  Â· erdos
</title>
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="http://erdosnet.work/theme/css/pygments.css" media="screen">
    <link rel="stylesheet" type="text/css" href="http://erdosnet.work/theme/tipuesearch/tipuesearch.css" media="screen">
    <link rel="stylesheet" type="text/css" href="http://erdosnet.work/theme/css/elegant.css" media="screen">
    <link rel="stylesheet" type="text/css" href="http://erdosnet.work/theme/css/custom.css" media="screen">
  </head>
  <body>
    <div id="content-sans-footer">
      <div class="navbar navbar-static-top">
        <div class="navbar-inner">
          <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
            <a class="brand" href="http://erdosnet.work/"><span class=site-name>erdos</span></a>
            <div class="nav-collapse collapse">
              <ul class="nav pull-right top-menu">
                <li ><a href="http://erdosnet.work/index.html">Home</a></li>
                <li ><a href="http://erdosnet.work/network-science.html">Network Science</a></li>
                <li ><a href="http://erdosnet.work/how-to.html">How To</a></li>
                <li ><a href="http://erdosnet.work/categories.html">Problem Sets</a></li>
		<li ><a href="http://erdosnet.work/glossary.html">Glossary</a></li>
                <li ><a href="http://erdosnet.work/resources.html">Resources</a></li>
                <li ><a href="http://erdosnet.work/about.html">About</a></li>
                <!-- <li><form class="navbar-search" action="http://erdosnet.work/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li> -->
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="container-fluid">
        <div class="row-fluid">
          <div class="span1"></div>
          <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="http://erdosnet.work/challenges/incidence-matrix.html"> Incidence Matrix  </a></h1>
    </header>
</div>

  <div class="row-fluid">
    <div class="span2 table-of-content">
<div class="accordion" id="accordion2">
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle list-of-categories" data-toggle="collapse" data-parent="#accordion2" href="#graphs-ref">
        Graphs<span>5</span>
      </a>
    </div>
    <div id="graphs-ref" class="accordion-body collapse">
      <div class="accordion-inner">
        <ul class="list-articles-category">
          <li><a href="http://erdosnet.work/challenges/nodes-and-edges.html">Nodes and Edges</a></li>
          <li><a href="http://erdosnet.work/challenges/simple-graphs.html">Simple Graphs</a></li>
          <li><a href="http://erdosnet.work/challenges/directed-graphs.html">Directed Graphs</a></li>
          <li><a href="http://erdosnet.work/challenges/graph-density.html">Graph Density</a></li>
          <li><a href="http://erdosnet.work/challenges/paths-and-components.html">Paths and Components</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle list-of-categories" data-toggle="collapse" data-parent="#accordion2" href="#representations-ref">
        Representations<span>3</span>
      </a>
    </div>
    <div id="representations-ref" class="accordion-body collapse in">
      <div class="accordion-inner">
        <ul class="list-articles-category">
          <li><a href="http://erdosnet.work/challenges/adjacency-lists.html">Adjacency Lists</a></li>
          <li><a href="http://erdosnet.work/challenges/adjacency-matrix.html">Adjacency Matrix</a></li>
          <li class="active" ><a href="http://erdosnet.work/challenges/incidence-matrix.html">Incidence Matrix</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle list-of-categories" data-toggle="collapse" data-parent="#accordion2" href="#measures-ref">
        Measures<span>2</span>
      </a>
    </div>
    <div id="measures-ref" class="accordion-body collapse">
      <div class="accordion-inner">
        <ul class="list-articles-category">
          <li><a href="http://erdosnet.work/challenges/graph-measures.html">Graph Measures</a></li>
          <li><a href="http://erdosnet.work/challenges/triangles-and-transitivity.html">Triangles and Transitivity</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>    </div>
    <div class="span8 article-content">
      <ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#erdos-context">Context</a></li>
        <li><a data-toggle="tab" href="#erdos-challenge">Challenge</a></li>
        <li><a data-toggle="tab" data-target="#erdos-questions, #erdos-footnote" href="#erdos-solutions">Solutions</a></li>
      </ul>

      <div class="tab-content">
        <div class="tab-pane fade in active" id="erdos-context">
<h1>Context</h1>
<p>The incidence matrix is another matrix representation of a graph. It stores
the same information as other representations, but in a different way.</p>
<div class="img-desc">
<p><svg class="chart" height="220" width="220">
<g class="links">
<g>
<line class="link" x1="126.7712154149886" x2="57.86353017672007" y1="61.55281962015166" y2="100.38380508279546"></line>
<text class="edge-label" x="92.31737279585434" y="80.96831235147356">0</text>
</g>
<g>
<line class="link" x1="126.7712154149886" x2="25.966465995892243" y1="61.55281962015166" y2="14.08247581709249"></line>
<text class="edge-label" x="76.36884070544042" y="37.81764771862208">1</text>
</g>
<g>
<line class="link" x1="126.7712154149886" x2="188.63654884921303" y1="61.55281962015166" y2="107.45748940256993"></line>
<text class="edge-label" x="157.70388213210083" y="84.5051545113608">2</text>
</g>
<g>
<line class="link" x1="57.86353017672007" x2="25.966465995892243" y1="100.38380508279546" y2="14.08247581709249"></line>
<text class="edge-label" x="41.914998086306156" y="57.233140449943974">3</text>
</g>
</g>
<g class="nodes">
<g transform="translate(126.7712154149886,61.55281962015166)">
<circle class="node" r="10"></circle>
<text class="node-label" dy=".35em" x="12">0</text>
</g>
<g transform="translate(57.86353017672007,100.38380508279546)">
<circle class="node" r="10"></circle>
<text class="node-label" dy=".35em" x="12">1</text>
</g>
<g transform="translate(25.966465995892243,14.08247581709249)">
<circle class="node" r="10"></circle>
<text class="node-label" dy=".35em" x="12">2</text>
</g>
<g transform="translate(188.63654884921303,107.45748940256993)">
<circle class="node" r="10"></circle>
<text class="node-label" dy=".35em" x="12">3</text>
</g>
</g>
</svg></p>
<p><em>Exampld graph.</em></p>
</div>
<p>To construct the incidence matrix of the example graph, we first need to
order its edges, not just the nodes. The matrix will have one row for each
node, and one column for each edge.</p>
<p>
<div class="math">$$\begin {pmatrix}0  &amp;0  &amp;0  &amp;0  &amp;0 \\ 0  &amp;0  &amp;0  &amp;0  &amp;0 \\ 0  &amp;0  &amp;0  &amp;0  &amp;0 \\ 0  &amp;0  &amp;0  &amp;0  &amp;0 \end{pmatrix}$$</div>
</p>
<p>Now, for each edge, going through them in order, we need to write down
which nodes it is <em>incident</em> to.</p><a name="incident-edge"></a>
<dl>
<dt>Incident Edge<a href="#incident-edge"></a></dt>
<dd>An edge is <strong>incident</strong> to a node if the node is at one of the edge's
endpoints.</dd>
</dl>
<p>Starting from the first edge, we see it's incident to nodes <code>0</code> and <code>1</code>, so
we write it like so</p>
<p>
<div class="math">$$\begin {pmatrix}1  &amp;0  &amp;0  &amp;0  &amp;0 \\ 1  &amp;0  &amp;0  &amp;0  &amp;0 \\ 0  &amp;0  &amp;0  &amp;0  &amp;0 \\ 0  &amp;0  &amp;0  &amp;0  &amp;0 \end{pmatrix}$$</div>
</p>
<p>Edge number <code>1</code> is incident to nodes <code>0</code> and <code>3</code>:</p>
<p>
<div class="math">$$\begin {pmatrix}1  &amp;1  &amp;0  &amp;0  &amp;0 \\ 1  &amp;0  &amp;0  &amp;0  &amp;0 \\ 0  &amp;0  &amp;0  &amp;0  &amp;0 \\ 0  &amp;1  &amp;0  &amp;0  &amp;0 \end{pmatrix}$$</div>
</p>
<p>We continue in the same fashion until all edges have been accounted for.</p>
<p>
<div class="math">$$\begin{pmatrix} 1  &amp;1  &amp;0  &amp;0  &amp;0 \\ 1  &amp;0  &amp;1  &amp;1  &amp;0 \\ 0  &amp;0  &amp;1  &amp;0  &amp;1 \\ 0  &amp;1  &amp;0  &amp;1  &amp;1 \end{pmatrix}$$</div>
</p>
<p>This is the incidence matrix of our graph.</p><a name="incidence-matrix"></a>
<dl>
<dt>Incidence Matrix<a href="#adjacency-matrix"></a></dt>
<dd>The <strong>incidence matrix</strong> of a graph with <span class="math">\(n\)</span> nodes and <span class="math">\(m\)</span> edges is an
<span class="math">\(n \times m\)</span> matrix whose rows represent nodes and whose columns represent
edges. The entry in the <span class="math">\(i\)</span>-th row and <span class="math">\(j\)</span>-th column indicates whether edge
<code>j</code> is incident to node <code>i</code>.</dd>
</dl>
</div>
<!-- erdos-context -->
<div class="tab-pane fade" id="erdos-challenge">
<h1>Challenge</h1>
<p>To solve this challenge, you will need to read a file in adjacency list
form, and output its incidence matrix.</p>
<p>The input will be a file where the first line contains just one integer,
<span class="math">\(n\)</span>, the number of nodes in the graph. Each of the following <span class="math">\(n\)</span> lines
holds a list of space-separated integers, representing the adjacencies of
every node. As before, assume that nodes are labeled from <code>0</code> to <code>n-1</code>. The
lines are in ascending order of node label, e.g., the first line of the
output contains the adjacencies of node <code>0</code>, the second line contains the
adjacencies of node <code>1</code>, etc.</p>
<p>Output the incidence matrix of the graph.</p>
<h3>Sample Input</h3>
<div class="highlight"><pre><span></span>4
1 3
0 2 3
1 3
0 1 2
</pre></div>
<h3>Sample Output</h3>
<div class="highlight"><pre><span></span>1 1 0 0 0
1 0 1 1 0
0 0 1 0 1
0 1 0 1 1
</pre></div>
<hr/>
<h1>Solution</h1>
<p>The solution to this challenge is hosted on
<a href="https://github.com/leotrs/erdos/blob/master/solutions/reprs/incmatrix.py">Github</a>.</p>
</div>
<!-- erdos-challenge -->
<div class="tab-pane fade" id="erdos-questions">
<h1>Expansion Questions</h1>
<ol>
<li>
<p>For a network with <span class="math">\(n\)</span> nodes and <span class="math">\(m\)</span> edges, how many <span class="math">\(1\)</span>s will the
   incidence matrix have?</p>
</li>
<li>
<p>Compare the memory usage of adjacency lists, adjacency matrix and
   incidence matrix for a given network with <span class="math">\(n\)</span> nodes and <span class="math">\(m\)</span> edges.</p>
</li>
<li>
<p>Compute the incidence matrix for the example graph, but whose edges are
   labeled in a different order. How are these two matrices related?</p>
</li>
<li>
<p>Can you build the incidence matrix for a directed graph following the
   same procedure as in this challenge? Why or why not?</p>
</li>
</ol>
<hr/>
<h1>Answers</h1>
<ol>
<li>
<p>There will be <span class="math">\(m\)</span> columns in the incidence matrix, one for each edge,
   and two <span class="math">\(1\)</span>s in each column, for a total of <span class="math">\(2m\)</span>.</p>
</li>
<li>
<p>The adjacency list representation needs <span class="math">\(n\)</span> lists, each of length equal
   to the degree of the node.  In total, we are using <span class="math">\(\sum_{u \in G}
   deg(u) = 2m\)</span> slots.  Each slot in the adjacency lists holds a label of
   one node, so the memory usage is <span class="math">\(2m \times L\)</span>, where <span class="math">\(L\)</span> is the amount
   of space that a node label takes.</p>
<p>Adjacency matrices are of size <span class="math">\(n \times n\)</span> and they hold a single
number in each entry, for a total memory usage of <span class="math">\(n^2 \times N\)</span>, where
<span class="math">\(N\)</span> is the memory usage of a single number.</p>
<p>Incidence matrices take <span class="math">\(m \times n \times N\)</span>.</p>
<p>The choice of representation will depend on the nature of node labels
(they can be single numbers, in which case <span class="math">\(L\)</span> = <span class="math">\(N\)</span>, or strings of
characters, in which case their size will depend on their length), and
on the graph being sparse or dense.  However, sometimes representations
are chosen because of how easy it is to manipulate them, not their
memory usage.</p>
<p>Another representation that will be covered later is the sparse array,
which saves much memory compared to these ones, specifically for
sparse graphs.</p>
</li>
<li>
<p>Since the nodes have the same labels, the rows of the new matrix will be
   in the same order.  However, the columns will represent the same edges
   but in a different order, ultimately yielding the same matrix but with
   permuted columns.</p>
</li>
<li>
<p>Incidence matrices as we have built them don't carry information
   regarding the direction of edges, since in directed graphs there isn't
   such a thing.  For directed graphs, we could write a <span class="math">\(-1\)</span> for the source
   node and <span class="math">\(+1\)</span> for the target node of each edge.</p>
</li>
</ol>
</div>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
      </div>

      <section>
<div class="accordion" id="accordion2">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle disqus-comment-count" data-toggle="collapse" data-parent="#accordion2"
                    data-disqus-identifier="d7c72056-graphs-can-be-represented-by-a-matrix"
                href="http://erdosnet.work/challenges/incidence-matrix.html#disqus_thread",
                id="disqus-accordion-toggle">
                Comments
            </a>
        </div>
        <div id="disqus_thread" class="accordion-body collapse">
            <div class="accordion-inner">
                <div class="comments">
                    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'erdos';
        var disqus_identifier = 'd7c72056-graphs-can-be-represented-by-a-matrix';
    var disqus_url = 'http://erdosnet.work/challenges/incidence-matrix.html';

    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

                </div>
            </div>
        </div>
    </div>
</div>
</section>

      <hr/>
    </div>
    <section>
      <div class="span2" style="float:right;font-size:0.9em;">
<h4>Contact</h4>
    <a href="https://twitter.com/ErdosNS" title="My twitter Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-twitter sidebar-social-links"></i></a>
    <a href="https://github.com/leotrs/erdos" title="My github Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-github sidebar-social-links"></i></a>
    <a href="mailto:leo@erdosnet.work" title="My email Address" class="sidebar-social-links" target="_blank">
    <i class="fa fa-envelope sidebar-social-links"></i></a>
      </div>
    </section>
  </div>
</article>
          </div>
          <div class="span1"></div>
        </div>
      </div>
      <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-subtitle"><span class="site-name">erdos</span> - Problem-based NetSci</li>
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>        <script src="http://code.jquery.com/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
    <script>
      function validateForm(query)
      {
      return (query.length > 0);
      }
    </script>

            <script type="text/javascript">
var disqus_shortname = 'erdos';
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
<script  language="javascript" type="text/javascript">
function uncollapse() {
    if (window.location.hash.match(/^#comment-\d+$/)) {
        $('#disqus_thread').collapse('show');
    }
}
</script>
<script type="text/javascript" language="JavaScript">
uncollapse();
window.onhashchange=function(){
    if (window.location.hash.match(/^#comment-\d+$/))
        window.location.reload(true);
}
</script>
<script>
$('#disqus_thread').on('shown', function () {
    var link = document.getElementById('disqus-accordion-toggle');
    var old_innerHTML = link.innerHTML;
    $(link).fadeOut(500, function() {
        $(this).text('Click here to hide comments').fadeIn(500);
    });
    $('#disqus_thread').on('hidden', function () {
        $(link).fadeOut(500, function() {
            $(this).text(old_innerHTML).fadeIn(500);
        });
    })
})
</script>


  </body>
  <!-- Theme: Elegant built for Pelican
       License : http://oncrashreboot.com/pelican-elegant -->
</html>